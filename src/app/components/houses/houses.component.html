<div>
  <h2>Houses</h2>
  <div>
    <mat-accordion *ngIf="houses.length != 0">
      <mat-expansion-panel *ngFor="let house of houses">
        <mat-expansion-panel-header>
          <a class="down" [routerLink]="['/houses', house._id]">{{house.name}}</a>
          <button *ngIf="!checkHouseLocal(house._id)" mat-flat-button color="accent" (click)="addHouseLocal(house._id)"><fa-icon [icon]="['far', 'star']"></fa-icon> LOCAL</button>
          <button *ngIf="checkHouseLocal(house._id)" mat-flat-button color="accent" (click)="removeHouseLocal(house._id)"><fa-icon [icon]="['fas', 'star']"></fa-icon> LOCAL</button>
          <button *ngIf="authService.isLoggedIn() && !checkHouseOnline(house._id)" mat-flat-button color="accent" (click)="addHouseOnline(house._id)"><fa-icon [icon]="['far', 'star']"></fa-icon> ONLINE</button>
          <button *ngIf="authService.isLoggedIn() && checkHouseOnline(house._id)" mat-flat-button color="accent" (click)="removeHouseOnline(house._id)"><fa-icon [icon]="['fas', 'star']"></fa-icon> ONLINE</button>
        </mat-expansion-panel-header>
        <img src="https://cdn.jsdelivr.net/gh/OriolBen/Harry-Potter-API-part-4@master/src/app/assets/{{house.name}}.png">



        <mat-list>
          <mat-list-item><strong>Mascot:</strong> {{house.mascot}}</mat-list-item>
          <!-- Some are misspelled or do not use the full name so not possible to link them -->
          <mat-list-item><strong>Head of House:</strong> {{house.headOfHouse}}</mat-list-item>
          <!-- Some are misspelled or do not use the full name so not possible to link them -->
          <mat-list-item><strong>House ghost:</strong> {{house.houseGhost}}</mat-list-item>
          <!-- Some are misspelled or do not use the full name so not possible to link them -->
          <mat-list-item><strong>Founder:</strong> {{house.founder}}</mat-list-item>
          <!-- Slytherin does not have a school, API creator probably forgot -->
          <mat-list-item><strong>School:</strong> {{house.school}}</mat-list-item>
          <mat-list-item><strong>Colors</strong></mat-list-item>
            <mat-list>
              <mat-list-item *ngFor="let color of house.colors">{{color}}</mat-list-item>
            </mat-list>
          <mat-list-item><strong>Values</strong></mat-list-item>
            <mat-list>
              <mat-list-item *ngFor="let value of house.values">{{value}}</mat-list-item>
            </mat-list>
          <mat-list-item><strong>Members</strong></mat-list-item>
            <mat-list>
              <!-- Some members IDs do not exist so we need to filter them -->
              <div *ngFor="let id of house.members"><mat-list-item *ngIf="check(id)"><a [routerLink]="['/characters', id]">{{characters[id]}}</a></mat-list-item></div>
            </mat-list>
        </mat-list>
      </mat-expansion-panel>
    </mat-accordion>
  </div>
</div>