<div>
  <h2>Characters</h2>
  <button mat-flat-button color="accent" (click)="updateFilter('none')"><fa-icon [icon]="['fas', 'hat-wizard']"></fa-icon> ALL CHARACTERS</button>
  <div id="down">
    <mat-form-field>
      <mat-label>Characters by name</mat-label>
      <input matInput type="text" (keyup.enter)="updateFilter('name')" [(ngModel)]="temporaryName" placeholder="Characters by name">
    </mat-form-field>
    <button mat-flat-button color="accent" (click)="updateFilter('name')"><fa-icon [icon]="['fas', 'search']"></fa-icon> SEARCH</button>
  </div>
  <h3>Filters</h3>
  <div>
    <mat-form-field>
      <mat-label>House</mat-label>
      <mat-select [(ngModel)]="temporaryFilters['house']">
        <mat-option value="Ignore" selected>Ignore</mat-option>
        <mat-option value="Gryffindor">Gryffindor</mat-option>
        <mat-option value="Ravenclaw">Ravenclaw</mat-option>
        <mat-option value="Slytherin">Slytherin</mat-option>
        <mat-option value="Hufflepuff">Hufflepuff</mat-option>
      </mat-select>
    </mat-form-field>
  </div>
  <div>
    <mat-form-field>
      <mat-label>Blood Status</mat-label>
      <mat-select [(ngModel)]="temporaryFilters['bloodStatus']">
        <mat-option value="Ignore" selected>Ignore</mat-option>
        <mat-option value="pure-blood">Pure-blood</mat-option>
        <mat-option value="half-blood">Half-blood</mat-option>
        <mat-option value="muggle-born">Muggle-born</mat-option>
        <mat-option value="unknown">Unknown</mat-option>
      </mat-select>
    </mat-form-field>
  </div>
  <div>
    <mat-form-field>
      <mat-label>Death Eater</mat-label>
      <mat-select [(ngModel)]="temporaryFilters['deathEater']">
        <mat-option value="Ignore" selected>Ignore</mat-option>
        <mat-option value="true">Yes</mat-option>
        <mat-option value="false">No</mat-option>
      </mat-select>
    </mat-form-field>
  </div>
  <div>
    <mat-form-field>
      <mat-label>Dumbledore's Army</mat-label>
      <mat-select [(ngModel)]="temporaryFilters['dumbledoresArmy']">
        <mat-option value="Ignore" selected>Ignore</mat-option>
        <mat-option value="true">Yes</mat-option>
        <mat-option value="false">No</mat-option>
      </mat-select>
    </mat-form-field>
  </div>
  <div>
    <mat-form-field>
      <mat-label>Order of the Phoenix</mat-label>
      <mat-select [(ngModel)]="temporaryFilters['orderOfThePhoenix']">
        <mat-option value="Ignore" selected>Ignore</mat-option>
        <mat-option value="true">Yes</mat-option>
        <mat-option value="false">No</mat-option>
      </mat-select>
    </mat-form-field>
  </div>
  <div>
    <mat-form-field>
      <mat-label>Ministry of Magic</mat-label>
      <mat-select [(ngModel)]="temporaryFilters['ministryOfMagic']">
        <mat-option value="Ignore" selected>Ignore</mat-option>
        <mat-option value="true">Yes</mat-option>
        <mat-option value="false">No</mat-option>
      </mat-select>
    </mat-form-field>
  </div>
  <button mat-flat-button color="accent" (click)="updateFilter('custom')"><fa-icon [icon]="['fas', 'search']"></fa-icon> SEARCH</button>
  <mat-divider></mat-divider>
  <mat-list>
    <mat-list-item *ngFor="let character of applyFilter()" class="character">
      <mat-action-list matLine>
        <a [routerLink]="['/characters', character._id]">{{character.name}}</a>
        <button *ngIf="!checkCharacterLocal(character._id)" class="right" mat-flat-button color="accent" (click)="addCharacterLocal(character._id)"><fa-icon [icon]="['far', 'star']"></fa-icon> LOCAL</button>
        <button *ngIf="checkCharacterLocal(character._id)" class="right" mat-flat-button color="accent" (click)="removeCharacterLocal(character._id)"><fa-icon [icon]="['fas', 'star']"></fa-icon> LOCAL</button>
        <button *ngIf="authService.isLoggedIn() && !checkCharacterOnline(character._id)" mat-flat-button color="accent" (click)="addCharacterOnline(character._id)"><fa-icon [icon]="['far', 'star']"></fa-icon> ONLINE</button>
        <button *ngIf="authService.isLoggedIn() && checkCharacterOnline(character._id)" mat-flat-button color="accent" (click)="removeCharacterOnline(character._id)"><fa-icon [icon]="['fas', 'star']"></fa-icon> ONLINE</button>
      </mat-action-list>
      <mat-list matLine>
        <mat-list-item *ngIf="check(character.house)"><p>House: <a [routerLink]="['/houses', link]">{{character.house}}</a></p></mat-list-item>
        <mat-list-item *ngIf="check(character.patronus)"><p>Patronus: {{character.patronus}}</p></mat-list-item>
        <mat-list-item *ngIf="check(character.species)"><p>Species: {{character.species}}</p></mat-list-item>
        <mat-list-item *ngIf="check(character.bloodStatus)"><p>Blood Status: {{character.bloodStatus}}</p></mat-list-item>
        <mat-list-item *ngIf="check(character.role)"><p>Role: {{character.role}}</p></mat-list-item>
        <mat-list-item *ngIf="check(character.school)"><p>School: {{character.school}}</p></mat-list-item>
        <mat-list-item *ngIf="check(character.deathEater)"><p>Death Eater: {{character.deathEater}}</p></mat-list-item>
        <mat-list-item *ngIf="check(character.dumbledoresArmy)"><p>Dumbledore's Army: {{character.dumbledoresArmy}}</p></mat-list-item>
        <mat-list-item *ngIf="check(character.orderOfThePhoenix)"><p>Order of the Phoenix: {{character.orderOfThePhoenix}}</p></mat-list-item>
        <mat-list-item *ngIf="check(character.ministryOfMagic)"><p>Ministry of Magic: {{character.ministryOfMagic}}</p></mat-list-item>
        <mat-list-item *ngIf="check(character.alias)"><p>Alias: {{character.alias}}</p></mat-list-item>
        <mat-list-item *ngIf="check(character.wand)"><p>Wand: {{character.wand}}</p></mat-list-item>
        <mat-list-item *ngIf="check(character.boggart)"><p>Boggart: {{character.boggart}}</p></mat-list-item>
        <mat-list-item *ngIf="check(character.animagus)"><p>Animagus: {{character.animagus}}</p></mat-list-item>
      </mat-list>
    </mat-list-item>
  </mat-list>
  <h2 *ngIf="filtered.length == 0">No characters were found!</h2>
</div>